/**
*
* Простой слайдер 
* ( тольео для изображений )
* @author	: Abdullaev Farrukh
* @date		: 20.11.2014
* @version	: 1.0.0
*
*/
(function($){jQuery.fn.cheapSlider=function(options){options=$.extend({speed:1000,pause_interval:2,next_img_interval:3000,prev:'prev',next:'next'},options);var container=$(this);var pause_flag=options.pause_interval;var img_count=$('img',container).length;var container_width=container.attr('width')*1;var container_height=container.attr('height')*1;var last_img_position=container_width*(img_count-1)*(-1);var position=0;var pause_loop=0;run=function(){var images=$('img',container);container.css({'width':container_width+'.px','height':container_height+'.px','position':'relative','overflow':'hidden'}).html('').append('<div></div>').find('div').css({'width':container_width*img_count+'.px','float':'left','position':'relative','overflow':'hidden'}).append(images).find('img').css({'width':container_width+'.px','height':container_height+'.px'});container.append('<span id="'+options.prev+'">←</span>').append('<span id="'+options.next+'">→</span>').find('span').css({'top':(container_height/2-20)+'.px','color':'#fff','position':'absolute','padding':'13px','margin':'3px','background':'#ccc','border-radius':'7px','opacity':'0.3','width':'20px','text-align':'center','display':'inline-block','cursor':'pointer'}).on('mouseleave',function(){ $(this).animate({'opacity':0.3 })}).on('mouseenter',function(){ $(this).animate({'opacity':1 })}).on('click',function(){($(this).attr('id')===options.prev)? prev_img():next_img();set_img();pause_flag=pause_loop;});container.find('#'+options.next).css('right','20px');container.find('#'+options.prev).css('left','20px');setInterval(function(){if(pause_flag < options.pause_interval){pause_flag++;return;}next_img();set_img();},options.next_img_interval);};function set_img(){container.find('div').animate({'left':position+'px'},options.speed,'swing');}function next_img(){position-=container_width;if(position < last_img_position)position=0;}function prev_img(){position+=container_width;if(position > 0)position=last_img_position;}return this.each(run);};})(jQuery);